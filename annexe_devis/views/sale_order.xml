<odoo>
  <data>
      
    <record id="sale_order_annexe_devis" model="ir.ui.view">
        <field name="name">BP Annexe devis</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/notebook" position="inside">
                <page string="Dessins/croquis">
                    <field name="bp_regenerate_report_annexe" invisible="1"/>
                    <h3>Annexes Devis</h3>
                    <field name="bp_sale_order_annexe_ids" nolabel="1"/>
                    <hr></hr>
                    <h3>Rapport Devis avec annexe</h3>
                    <field name="bp_report_annexe" nolabel="1" widget="many2many_binary" style="width:50%" readonly="1" options="{'no_create_edit': True}"/>
                    <br></br>
                    <em class="oe_edit_only" style="color:red;padding-left: 8px;" attrs="{'invisible': [('bp_regenerate_report_annexe', '=', False)]}"><i class="fa fa-warning"></i> Veuillez regénérer le rapport devis annexe, modifications détectées</em>
                    <br></br>
                    <button string="Genérer rapport avec annexe" name="action_generate_report_quotation_sale" type="object" icon="fa-refresh" class="btn-secondary" style="padding-top:5px;"/>
                </page>
            </xpath>
        </field>
    </record>
      
  </data>
</odoo>